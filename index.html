<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Date Calculator</title>
  <style>
	body {
	  font-family: Arial, sans-serif;
	  margin: 20px;
	}

	.container {
	  max-width: 400px;
	  margin: auto;
	  padding: 20px;
	  border: 1px solid #ccc;
	  border-radius: 8px;
	  box-shadow: 2px 2px 12px rgba(0, 0, 0, 0.1);
	}

	label {
	  display: block;
	  margin-top: 10px;
	}

	input, select, button {
	  width: 100%;
	  padding: 8px;
	  margin-top: 5px;
	  margin-bottom: 15px;
	  border: 1px solid #ccc;
	  border-radius: 4px;
	  box-sizing: border-box;
	}

	button {
	  background-color: #007BFF;
	  color: white;
	  border: none;
	  cursor: pointer;
	}

	button:hover {
	  background-color: #0056b3;
	}

	.output-container {
	  display: none;
	  margin-top: 20px;
	  padding: 10px;
	  border: 1px solid #ccc;
	  border-radius: 4px;
	  background-color: #f9f9f9;
	  position: relative;
	}

	.output-text {
	  width: 100%;
	  padding-right: 40px;
	  box-sizing: border-box;
	}

	.copy-btn {
	  position: absolute;
	  top: 10px;
	  right: 10px;
	  padding: 5px 10px;
	  font-size: 0.9em;
	  border: none;
	  border-radius: 4px;
	  background-color: #28a745;
	  color: white;
	  cursor: pointer;
	}

	.copy-btn:hover {
	  background-color: #218838;
	}

	/* Mobile styles */
	@media (max-width: 480px) {
	  .container {
		padding: 15px;
	  }

	  input, select, button {
		font-size: 16px;
	  }

	  /* Mobile-only fix for date inputs */
	  #startDate,
	  #date1,
	  #date2 {
		width: 100%;
		margin-left: 0;
		margin-right: 0;
		padding-left: 8px;
		padding-right: 8px;
		box-sizing: border-box;
	  }
	}

	/* Desktop-only fix for Days Between Dates spacing */
	@media (min-width: 481px) {
	  #date1 {
		margin-bottom: 12px;
	  }
	}
  </style>
</head>
<body>
  <div class="container">
	<h2>Date Calculator</h2>

	<label for="mode">Select Mode:</label>
	<select id="mode" onchange="toggleMode()">
	  <option value="add">Add Days/Weeks/Months</option>
	  <option value="between">Days Between Two Dates</option>
	</select>

	<div id="addMode">
	  <label for="startDate">Start Date:</label>
	  <input type="date" id="startDate">

	  <label for="duration">Duration:</label>
	  <input type="number" id="duration" placeholder="Enter number">

	  <label for="unit">Unit:</label>
	  <select id="unit">
		<option value="days">Days</option>
		<option value="weeks">Weeks</option>
		<option value="months">Months</option>
	  </select>
	</div>

	<div id="betweenMode" style="display: none;">
	  <label for="date1">Start Date:</label>
	  <input type="date" id="date1">

	  <label for="date2">End Date:</label>
	  <input type="date" id="date2">
	</div>

	<button onclick="calculate()">Calculate</button>

	<div class="output-container" id="outputContainer">
	  <input type="text" id="result" class="output-text" readonly>
	  <button class="copy-btn" onclick="copyResult()">Copy</button>
	</div>
  </div>

  <script>
	function toggleMode() {
	  const mode = document.getElementById("mode").value;
	  document.getElementById("addMode").style.display = mode === "add" ? "block" : "none";
	  document.getElementById("betweenMode").style.display = mode === "between" ? "block" : "none";
	  document.getElementById("outputContainer").style.display = "none";
	}

	function calculate() {
	  const mode = document.getElementById("mode").value;
	  let output = "";

	  if (mode === "add") {
		const startDate = new Date(document.getElementById("startDate").value);
		const duration = parseInt(document.getElementById("duration").value, 10);
		const unit = document.getElementById("unit").value;

		if (isNaN(startDate) || isNaN(duration)) {
		  alert("Please enter valid inputs.");
		  return;
		}

		let resultDate = new Date(startDate);
		if (unit === "days") resultDate.setDate(resultDate.getDate() + duration);
		if (unit === "weeks") resultDate.setDate(resultDate.getDate() + duration * 7);
		if (unit === "months") resultDate.setMonth(resultDate.getMonth() + duration);

		output = `Resulting Date: ${resultDate.toDateString()}`;
	  } 
	  else if (mode === "between") {
		const date1 = new Date(document.getElementById("date1").value);
		const date2 = new Date(document.getElementById("date2").value);

		if (isNaN(date1) || isNaN(date2)) {
		  alert("Please enter valid dates.");
		  return;
		}

		const diffTime = Math.abs(date2 - date1);
		const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

		if (diffDays <= 6) {
		  output = `${diffDays} ${diffDays === 1 ? "day" : "days"}`;
		} else if (diffDays === 7) {
		  output = `7 days (1 week)`;
		} else {
		  const weeks = Math.floor(diffDays / 7);
		  const days = diffDays % 7;
		  const weeksText = `${weeks} ${weeks === 1 ? "week" : "weeks"}`;
		  const daysText = days > 0 ? ` + ${days} ${days === 1 ? "day" : "days"}` : "";
		  output = `${diffDays} days (${weeksText}${daysText})`;
		}
	  }

	  document.getElementById("result").value = output;
	  document.getElementById("outputContainer").style.display = "block";
	}

	function copyResult() {
	  const resultField = document.getElementById("result");
	  resultField.select();
	  document.execCommand("copy");
	  alert("Copied to clipboard: " + resultField.value);
	}
  </script>
</body>
</html>
